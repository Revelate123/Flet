{% extends "layout.html" %}

{% block title %}
    
{% endblock %}

{% block nav_bar %}
<ul class="navbar-nav me-auto mt-2">
    <li class="nav-item"><a class="nav-link" href="/cv">CV</a></li>
    <li class="nav-item"><a class="nav-link" href="/restaurant">Restaurant Recommender</a></li>
</ul>
<ul class="navbar-nav ms-auto mt-2">
    <li class="nav-item"><a class="nav-link" href="/logout">Log Out</a></li>
</ul>
{% endblock %}



{% block main %}
<div>
    <style>* {
        margin: 0;
        padding: 0;
      }
      
      .loader {
        display: none;
        top: 50%;
        left: 50%;
        position: absolute;
        transform: translate(-50%, -50%);
      }
      
      .loading {
        border: 2px solid #ccc;
        width: 50px;
        height: 50px;
        margin-left: auto;
        margin-right: auto;
        border-radius: 50%;
        border-top-color: #1ecd97;
        border-left-color:  #1ecd97;
        animation: spin 1s infinite ease-in;
      }
      
      @keyframes spin {
        0% {
            transform: rotate(0deg);
        }
        100% {
            transform: rotate(360deg);
        }
      }</style>
<form action="/restaurant" method="post">
    <div class="mb-3">
        <input autocomplete="on" autofocus class="form-control mx-auto w-auto" name="chat_request" placeholder="Where are you heading?" type="text">
    </div>
    <button class="btn btn-primary" type="submit">Ask</button>
</form>
<p>{{chat_reply}}</p>
<script>function spinner() {
    const spinnerDisplayer = document.querySelector('.spinner-displayer');
    const btn = document.getElementById('btn');

    btn.addEventListener('click', () => {
    spinnerDisplayer.classList.add('loading');
  })
}

spinner();</script>
</div>
{% endblock %}